<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultoria / Esportes</title>
    <script src="./assets/js/funcoes.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="index.css">
    <link rel="icon" href="https://imagepng.org/wp-content/uploads/2019/04/bola-de-voleibol.png">
</head>
<body onload="validarSessao()" style="font-family: montserrat;">
    <div class="navbar">
        <div class="home"><a href="" onclick="limparSessao()" class="active">Sair</a></div>
        <div class="simulador"><a href="heroi.html">Her√≥is</a></div>
        <div class="bola"><a href="">‚öΩüèÄü•ä</a></div>
        <div class="login"><a href="login.html">Login</a></div>
        <div class="cadastro"><a href="cadastro.html">Cadastro</a></div>
    </div>
    <div id="metricas"> <h3>Seja Bem-Vindo, <span id="b_usuario"></span>  <br> Quantidade de usu√°rios cadastrados: <span id="contador"></span><br>Quantidade de logins efetuados: <span id="registros"></span></h3></div>
    <div class="img_consultoria">
        <div class="consultoria" style="text-align: center;">
            <span id="parte1" style="display: block;"><img src="https://runnersworld.com.br/wp-content/uploads/sites/4/2018/05/shutterstock_197440790-696x462.jpg"> <br>
                <h3 >Crie uma agenda para seus treinos!</h3> <br>
            Quantos dias vai durar seu projeto? <br>
            <input type="text" id="dias_ipt" placeholder="Ex: 30"> <br> <br>
            Quantos tempo at√© o pr√≥ximo treino? <br>
            <input type="text" id="tempo_ipt" placeholder="Ex: 3"> <br> <br> <button onclick="treinar()">Veja sua agenda</button> <br>
        </span>
            <div id="calendario"></div>
            <div id="parte3" style="display: none;">
                 
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="container">
            Site desenvolvido por Gabriel Lima da Silva ¬©<br>
            RA: 01212152<br>
            Bandtec Digital School
        </div>
    </div>
</body>
</html>
<script>
    fetch("/usuarios/listar")
        .then(res => res.json())
                .then(res => {contador.innerHTML = res[0].usuario})

    fetch("/usuarios/listar")
        .then(res => res.json())
                .then(res => {registros.innerHTML = res[0].registros})

    function treinar() {
        let dias = dias_ipt.value;
        let tempo = tempo_ipt.value;
        let dias_treinados = 0;
        let vetor_dias = [];

        if (dias == '' || tempo == '') {
            alert('Preencha todos os campos!')
        } else if (dias < 7 || dias > 56) {
            alert('Seu projeto deve estar em 1 e 8 semanas (7 at√© 56 dias)!')
        } else if (tempo <= 0 || isNaN(tempo)) {
            alert('Tempo n√£o existente')
        } else if (tempo > 7) {
            alert('Insira um tempo menor!')
        } else{
        calendario.innerHTML += '<h3>J√° que voc√™ chegou at√© aqui, que tal calcular<br> seu √≠ndice de massa corporal?</h3><br>';
        calendario.innerHTML += '<button onclick="imc()">Calcule seu IMC aqui</button> <button onclick="voltar()">Voltar</button><br><br>';
        calendario.innerHTML += '<h3>Agenda de treinos(Treine nos dias verdes):</h3><br>';
        for (let index = 0; index < dias; index++) {
            if (index % tempo == 0 || index == dias - 1) {
                calendario.innerHTML += `<div id="pai" style="display: flex; flex-direction: column; margin-left: 3px;margin-right: 3px; float:left;margin-top: 3px; color: black">
                    <div id="num" style="height: 18px; width: 30px;border: solid white 1px;background-color: rgb(196, 196, 196);text-align: center">${index + 1}</div>
                    <div id="cor" style="height: 30px; width: 30px;border: solid white 1px;background-color: rgb(0, 255, 0)"></div>
                    </div>`
                    dias_treinados ++;
                    vetor_dias.push(index+1)
                } else{
                    calendario.innerHTML += `<div id="pai" style="display: flex; flex-direction: column; margin-left: 3px;margin-right: 3px; float: left; margin-top: 3px;color: black"">
                        <div id="num" style="height: 18px; width: 30px;border: solid white 1px;background-color: rgb(196, 196, 196);text-align: center">${index + 1}</div>
                        <div id="cor" style="height: 30px; width: 30px;border: solid white 1px;background-color: red"></div>
                        </div>` 
                    }
            }
        parte1.style.display = 'none'
        }
    }
    function voltar() {
        location.reload()
    }
    function imc() {
        parte2.style.display = 'none'
        parte3.style.display = 'block'
    }
</script>